==Опр.== **(Бинарное) Дерево поиска** - [[Понятие графа|древовидная]] структура данных, поддерживающая операции добавления и удаления элементов, сохраняющая *свойство дерева поиска* и созданная для быстрого нахождения элемента в нём.

## Свойство дерева поиска

- ***Для любого узла верно, что у него не больше двух детей (левый и правый), причём все значения потомков этого узла в левом поддереве меньше значения этого узла, а в правом поддереве - больше.*** *(Если в дереве поиска нет свойства уникальности, то по договорённости элементы с равным значением располагаются в одном из поддеревьев).*

![[Pasted image 20250728163550.png]]

## Операции дерева поиска
- *Все операции будем реализовывать подразумевая, что все элементы в дереве поиска уникальны. Другие случаи реализовываются аналогично.*
### Поиск элемента

Поиск элемента будет работать рекурсивно и запускаться от корня:
1) Пусть значение в текущей вершине равно $y$, а мы ищем $x$.
2) Если $y > x$ - то рекурсивно ищем в левом сыне.
3) Если $y < x$ - то рекурсивно ищем в правом сыне.
4) Если $y = x$ - то мы нашли и можно выйти из рекурсии.
5) Если какого-то из детей, в которого мы пытаемся пойти нет, то значит $x$ нет в дереве и можно выйти из рекурсии.

### Найти минимум/максимум

1) Чтобы найти минимум, нужно от корня по левым детям спуститься до листа - он будет минимумом.
2) Чтобы найти максимум, нужно от корня по правым детям спуститься до листа - он будет максимумом.

### Добавление и удаление элемента

Рекурсивно так же как при поиске идём вдоль дерева и
1) При добавлении если элемент найден - ничего не делаем, иначе вставляем вершину с ним в то место, где пытались найти его.
2) При удалении если не нашли элемент, то ничего не делаем, иначе удаляем найденный элемент, причём:
	1) Если удаляемый узел - лист, то можно сразу его удалить и прекратить рекурсию
	2) Если у удаляемого узла ровно один ребёнок, то его нужно переподвесить на место родителя
	3) Если у удаляемого узла два ребёнка, то в правом поддереве нужно найти минимальный элемент (или в левом поддереве максимальный), и поменять его с удаляемым узлом местами, после чего удалить узел

## Асимптотика

**По памяти**: $O(n)$

**По времени**: ($h$ - высота дерева, $h \leq n$)
1) **Добавление**: $O(h)$
2) **Удаление**: $O(h)$
3) **Поиск**: $O(h)$
