==Опр.== **Отсортировать массив $a$ (размера $N$)** - означает найти такую [[Перестановки и циклы|перестановку]] $\sigma \in S_N$, что $\forall i \in \overline{1,N-1}\ :\ a_{\sigma(i) - 1} \leq\ a_{\sigma(i + 1) - 1}$

#### Утв. Для любого массива с определённым на нём отношением порядка по данному отношению существует сортировка

## Сортировка на сравнениях
- *Работает если мы можем сравнить два произвольных объекта массива за $O(1)$*

### Теорема о нижней оценке сортировки на сравнениях

- Любая сортировка, основанная на сравнениях, [[Асимптотический анализ алгоритма|работает за]] $\Omega(n \log n)$

#### Доказательство.

Если сортировка основана на сравнениях, то она не может использовать никакую другую информацию, кроме отношения элементов. Построим дерево сравнений, в котором вершины - пары индексов элементов, которые сравниваются на данном этапе, рёбра - переходы от одного сравнения к другому, а корень - первое сравнение в алгоритме. У каждой вершины не более трёх детей (так как ровно столько результатов сравнения). Пусть высота этого дерева равна $h$.

$|S_n| = n!$ - то есть в дереве сравнений должно быть не менее $n!$ листьев (так как ровно столько перестановок, а каждая перестановка является сортировкой хотя бы для одного массива). Так как построенное дерево тернарное, то (наибольшее количество листьев) $3^h \geq n!$ $\Rightarrow$ $h \geq \log_3(n!)$.

1) $\log_3(n!) \leq \log_3(n^n) = O(n \log n)$
2) $\log_3(n!) \geq \log_3(1^{\frac{n}{2}} \prod\limits_{k=\frac{n}{2} + 1}^{n}{k}) \geq \log_3((\frac{n}{2})^{\frac{n}{2}}) = \Omega(n \log n)$

Получаем, что в "лучшем" случае, когда $h = n! = \Theta(n \log n)$, а в общем случае $h = \Omega(n \log n)$ - ***минимальное максимальное количество сравнений в сортировке*** основанной на сравнениях.
