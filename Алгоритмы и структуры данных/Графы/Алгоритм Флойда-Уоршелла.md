==Опр.== **Задача APSP (All Pairs Shortest Paths)** - задача поиска кратчайшего пути между любыми двумя вершинами графа. (является NP-сложной)

- Алгоритм Флойда-Уоршелла решает задачу APSP.

## Алгоритм

Алгоритм работает по принципу [[Динамическое программирование|динамического программирования]].

1) Пусть $dp[u][v][k]$ - минимальный вес пути из $u$ в $v$, состоящий из вершин, с номерами $\leq k$.
2) База. $\forall v \in V\ :\ dp[v][v][0] = 0$, остальные значения равны $+\infty$
3) Переход. $dp[v][k] - \min\limits_{(u,v) \in E}\ (dp[u][k-1] + weight_{u \to v})$
4) Порядок пересчёта: внешний цикл по $k$, внутренние циклы по $u$ и $v$
5) Ответ в: массив по паре $u$ и $v$ для $dp[v][k][|V| - 1]$

## Корректность

## Асимптотика

1) По времени

- В пересчёте за шаг мы перебираем все пары вершин ($|V|^2$ шт.).
- Шагов |V| - 1 + Инициализация.

**Итог по времени**: $O(|V|^3)$

2) По памяти

- Формула опирается только на предыдущее состояние, поэтому достаточно хранить только две матрицы $dp$
- Общее число вершин в матрице $|V|^2$

**Итог по памяти**: $O(|V|^2)$
