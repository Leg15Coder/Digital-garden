==Опр.== $\Sigma^p_k = \{ \{x\ |\ \exists y_1 \forall y_2 \exists y_3\ \dots\ Qy_k\ :\ V(x,\ y_1,\ \dots\ y_k)\}\ |$ где $V$ - произвольный полиномиальный верификатор $\}$.

==Опр.== $\Pi^p_k = \{ \{x\ |\ \forall y_1 \exists y_2 \forall y_3\ \dots\ Qy_k\ :\ V(x,\ y_1,\ \dots\ y_k)\}\ |$ где $V$ - произвольный полиномиальный верификатор$\}$.

- значение квантора $Q$ зависит от чётности $k$

==Опр.== $\Delta^p_k = \Sigma^p_k \cap \Pi^p_k$.

==Опр.== **Полиномиальная иерархия** - $PH =\bigcup\limits_{k = 0}^{\infty} \Sigma^p_k$

## Положение [[Полиномиальные по времени классы языков|известных классов]] в иерархии

- $P = \Sigma^p_0$
- $NP = \Sigma^p_1$
- $coNP = \Pi^p_1$

- Доказывается прямо из определений.

## Вложенность в полиномиальной иерархии

$$\forall n \in \mathbb{N}_0\ \ :\ \Sigma_n\ \cup\ \Pi_n \subseteq \Delta_{n+1}$$

#### Доказательство.

Пусть $A \in \Sigma^p_n$ $\Rightarrow$ $A = \{x\ |\ \exists y_1 \forall y_2 \exists y_3\ \dots\ Qy_k\ :\ V(x,\ y_1,\ \dots\ y_k)\}$  $\Rightarrow$ $A = \{x\ |\ \exists y_1 \forall y_2 \exists y_3\ \dots\ Qy_k\ \overline{Q}y_{k+1}\ :\ V(x,\ y_1,\ \dots\ y_k)\}$, где $y_{k+1}$ - фиктивная переменная $\Rightarrow$ $A \in \Sigma^p_{n+1}$
Аналогично: $A = \{x\ |\ \forall y_0 \exists y_1 \forall y_2 \exists y_3\ \dots\ Qy_k\ :\ V(x,\ y_1,\ \dots\ y_k)\}$, где $y_{0}$ - фиктивная переменная $\Rightarrow$ $A \in \Pi^p_{n+1}$

Из чего следует, что $A \in \Sigma^p_{n+1} \cap \Pi^p_{n+1} = \Delta^p_{n+1}$. А так как это верно для произвольного $A$, то теорема доказана.

## Эквивалентные утверждения о вырожденной полиномиальной иерархии

> [!warning] Гипотеза невырожденной PH *(не доказано)*
> $\forall n \in \mathbb{N}_0\ :\ PH \neq \Sigma^p_k$

### Теорема о вырожденной полиномиальной иерархии

Следующие утверждения эквивалентны:
1) $\Sigma^p_k = \Pi^p_k$
2) $\Sigma^p_k = \Sigma^p_{k+1}$
3) $PH = \Sigma^p_k$

#### Доказательство.

Пусть $PH = \Sigma^p_k$. По определению иерархии: $\Sigma^p_{k+1} \subseteq PH$, а по свойству вложенности $PH = \Sigma^p_{k} \subseteq \Sigma^p_{k+1}$ $\Rightarrow$ $\Sigma^p_k = \Sigma^p_{k+1}$ (то есть $3 \Rightarrow 2$)

Пусть $\Sigma^p_k = \Sigma^p_{k+1}$, тогда по свойству вложенности $\Pi^p_k \subseteq \Sigma^p_{k+1} = \Sigma^p_{k}$. Пусть $A \in \Sigma^p_k$, тогда $\overline{A} \in \Pi^p_k$ $\Rightarrow$ $\overline{A} \in \Sigma^p_k$  $\Rightarrow$ $A \in \Pi^p_k$, а так как $A$ - произвольный язык, то $\forall A \in \Sigma^p_k\ :\ A \in \Pi^p_k$ $\Rightarrow$ $\Sigma^p_k \subseteq \Pi^p_k$ $\Rightarrow$ $\Sigma^p_k = \Pi^p_k$ (то есть $2 \Rightarrow 1$)

Пусть $\Sigma^p_k = \Pi^p_{k}$. Пусть $A \in \Sigma^P_{k+1}$, тогда $x \in A$ $\Leftrightarrow$ $\exists y_1\ \forall y_2\ \dots Q y_{k+1}\ :\ V_A(x, y_1, \dots, y_{k+1})$ $= \exists y_1\ :\ M_B(x, y_1) = 1$, где $M$ - МТ, которая решает язык $B \in \Pi_k^p$, т.ч. $x \in B$ $\Leftrightarrow$ $\forall y_2\ \dots Q y_{k+1}\ :\ V_B(x, y_2, \dots, y_{k+1})$, но поскольку $B \in \Sigma_k^p$ $(= \Pi^p_k)$, то $M_B(x, y_1) = 1$ $\Leftrightarrow$ $\exists y_2\ \dots \overline{Q} y_{k+1}\ :\ V'_B(x, y_2, \dots, y_{k+1})$ $\Rightarrow$ ($x \in A$ $\Leftrightarrow$ $\exists y_1, y_2\ \dots \overline{Q} y_{k+1}\ :\ V'_B(x, y_1, y_2, \dots, y_{k+1})$) $\Rightarrow$ $A \in \Sigma^p_k$ $\Rightarrow$ $\Sigma^p_k = \Sigma^p_{k+1}$ (то есть $1 \sim 2$ )

Докажем $1 \wedge 2 \Rightarrow 3$, из чего следует, что $1 \sim 2 \sim 3$, по индукции:

**База**: $\Sigma^p_k = \Sigma^p_{k+m}$ при $m = 1$ 

**Предположение**: $\forall m \leq n\ :\ \Sigma^p_k = \Sigma^p_{k+m}$

**Шаг**: Аналогично расписываем кванторы как в доказательстве $1 \sim 2$ и получаем $\Sigma^p_k = \Sigma^p_{k+n+1}$ $\Rightarrow$ $PH = \bigcup\limits_{n = 0}^{\infty} \Sigma^p_n = \bigcup\limits_{n = 0}^{k} \Sigma^p_n = \Sigma^p_k$

## Полнота в иерархии
### Локальная полнота
==Опр.== $\Sigma^p_k\text{-}SAT =$ $\Sigma_k\text{-}SAT =$ $\{ \varphi | \exists {y_1}_1, {y_1}_2, \dots, {y_1}_{k_1} \forall {y_2}_1, \dots, {y_2}_{k_2}, \dots, Q {y_k}_1, \dots, {y_k}_{k_k}\ :\ \varphi({y_1}_1, \dots, {y_k}_{k_k}) = 1\}$

- Заметим, что $\Sigma_1\text{-}{SAT} = SAT$

### Теорема о локальной полноте
- $\Sigma^p_k\text{-}SAT \in \Sigma^p_k\text{-}Complete$
