## Понятие эквивалентности

==Опр.== **Эквивалентность (по Майхиллу-Нероуду) $x \equiv_L y \Longleftrightarrow \forall z \in \Sigma^*\ :\ (xz \in C \Leftrightarrow yz \in C)$

==Опр.== **Разделяющий суффикс ($z$)** - $z$ разделяет $C_1$ и $C_2$, если $\exists x \in C_1\ \exists y \in C_2\ :\ (xz \in C_1 \Leftrightarrow yz \in C_2)$

==Опр.== **Класс эквивалентности (по Майхиллу-Нероуду) ($C$)** - $\forall x, y \in C\ :\ x \equiv_L y$

## Теорема

$$L \in REG\ \Longleftrightarrow\ \text{язык L содержит конечное кол-во классов эквивалентности по Майхиллу-Нероуду}$$
#### Доказательство.

**Необходимость**: Пусть $L$ реализует ДКА $A$. Введём эквивалентность по принятию автоматом:
$x\ {\sim}_A\ y\ \Leftrightarrow$  обработку слов $x$ и $y$ ДКА $A$ заканчивает в одном и том же состоянии. Очевидно, что классов эквивалентности по принятию автоматом не больше $|Q|$ (количества состояний ДКА). 
Заметим, что $x\ {\sim}_A\ y\ \Longleftrightarrow (x \in L \Leftrightarrow y \in L)$ (общее состояние либо принимающие, либо нет).
При этом, так как $x$ и $y$ заканчивают в одном и том же состоянии, то дописывание любого суффикса начнётся с одного и того же состояния и пойдёт по одним и тем же символам, а значит, $x\ {\sim}_A\ y\ \Longleftrightarrow \forall z\ :\ xz\ {\sim}_A\ yz \Longleftrightarrow x\ \equiv_L y$ Из чего следует, что классов эквивалентности по Майхиллу-Нероуду не больше чем классов эквивалентности по принятию автоматом, то есть конечное количество.

**Достаточность**: Явно построим ДКА по $n$ классов эквивалентности ($C_1, ..., C_n$).

- За состояния возьмём сами классы эквивалентности ($Q = \{C_i\ |\ i \in \overline{1,n}\}$).
- За $q_0$ возьмём класс, в котором находится пустое слово ($\epsilon$).
- $Q_f = \{C_i\ |\ C_i \subseteq L\}$
- $\delta(C_i, a) = C_j \Leftrightarrow \forall x \in C_i\: xa \in C_j$ (переходов конечной число в силу конечного количества символов и состояний)

ДКА построено, следовательно, язык регулярен.
