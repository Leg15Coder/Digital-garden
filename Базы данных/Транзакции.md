
==Опр.== **Транзакция** - это минимальная логически осмысленная операция, которая имеет смысл и может быть совершена только полностью, переводящая объект транзакции из одного непротиворечивого состояния в другое.

##### [[SQL|Синтаксис]]

```sql
SET TRANSACTION transaction_mode [, ...]

	ISOLATION LEVEL { SERIALIZABLE | REPEATABLE READ | READ COMMITTED | READ UNCOMMITTED }
	
	-- уровень изоляции транзакции
	-- READ UNCOMMITTED в PostgreSQL обрабатывается как READ COMMITTED
	
	READ WRITE | READ ONLY  -- права транзакции на манипуляцию данными
	
	[ NOT ] DEFERRABLE
	
	-- работает только для SERIALIZABLE READ ONLY транзакции;
	-- может продолжить выполняться после блокировки.
```

##### Свойства транзакции (сокращ. ACID)

1. **Атомарность**
	Выполнены либо все внутренние операции, либо никакие
2. **Согласованность (консистентность)**
	Каждая транзакция фиксирует только допустимые (непротиворечивые) результаты
3. **Изолированность**
	Параллельные транзакции не влияют друг на друга ^1ad91c
4. **Устойчивость**
	Вне зависимости от сбоев системы, результаты успешных транзакций сохраняются в ней (**Но**! транзакции не устойчивы к *физическим* сбоям, таких как отключение электроэнергии, физическое повреждение устройства или т.п.)


![[Pasted image 20250506125415.png]]

- Транзакцию можно **откатить**, то есть отменить все её изменения, используя оператор `ROLLBACK`
